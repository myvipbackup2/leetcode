<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Roman to Integer</title>
</head>
<body>

<h4>
    Given a roman numeral, convert it to an integer.

    Input is guaranteed to be within the range from 1 to 3999.
</h4>

<script>

    /**
     * 罗马数字转化为十进制数字的规则为：
     * 用作数字的罗马字母共有七个，即Ⅰ(1),Ⅴ(5),Ⅹ(10),L(50),C(100),D(500),M(1000).
     * 相同的数字连写，所表示的数等于这些数相加
     * 如果大的数字在前，小的数字在后，所表示的数等于这些数相加 如：VIII = 8，
     * 如果小的数字在前，大的数字在后，所表示的数等于从大数减去小数。如：IX = 9
     * @param {string} s
     * @return {number}
     */

    function romanToInt(s) {
        const roman = new Map([
            ['I', 1],
            ['V', 5],
            ['X', 10],
            ['L', 50],
            ['C', 100],
            ['D', 500],
            ['M', 1000]
        ]);
        let result = 0;
        let input = [...s];  //把输入的罗马数字变成一个数组
        //如果大的数字在前，小的数字在后，所表示的数等于这些数相加
        for (let i = 0, len = input.length; i < len; i++) {
            if (roman.get(input[i]) < roman.get(input[i + 1])) {
                result -= roman.get(input[i]);
            } else {
                result += roman.get(input[i]);
            }
        }
        return result;
    }

    console.log(romanToInt("MCMXCVI"))

</script>

</body>
</html>